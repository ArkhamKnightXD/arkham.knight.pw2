<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="${titulo}">Formulario</title>
    <link href="../../resources/bootstrap/css/bootstrap.min.css"
          th:href="@{bootstrap/css/bootstrap.min.css}" rel="stylesheet" media="screen"/>
    <link href="../../resources/bootstrap/css/estilocrud.css"
          th:href="@{bootstrap/css/estilocrud.css}" rel="stylesheet" media="screen"/>

</head>
<body>
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title" th:text="${header}" style="font-weight: bolder">Titulo</h3>
    </div>
    <div class="panel-body">
        <form th:action="@{${metodo}}" th:object="${estudiante}" method="post">
            <fieldset>
                <p th:if="${submit} eq 'Actualizar'">
                    <label for="matriculad">Matricula: </label>
                    <input type="text" name="matricula" class="form-control" id="matriculad" th:value="${mat}" required
                           readonly>
                </p>
                <p th:if="${submit} eq 'Insertar'">
                    <label for="matricula">Matricula: </label>
                    <input type="text" name="matricula" class="form-control" id="matricula" th:value="${mat}" required>
                </p>
                </p>
                <div class="form-group">
                    <label for="nombre">Nombre: </label>
                    <input type="text" name="nombre" class="form-control" id="nombre" th:value="${nom}" required>
                </div>
                <div class="form-group">
                    <label for="apellido">Apellido: </label>
                    <input type="text" name="apellido" class="form-control" id="apellido" th:value="${ape}" required>
                </div>
                <div class="form-group">
                    <label for="telefono">Telefono: </label>
                    <input type="text" name="telefono" class="form-control" id="telefono" th:value="${tel}" required>
                </div>
                <div>
                    <input type="submit" name="agregar" class="btn btn-success" th:value="${submit}">
                    <button type="button" name="cancelar" class="btn btn-danger" th:value="${cancel}"><a
                            th:href="@{inicio}">Cancelar</a></button>
                </div>
            </fieldset>
        </form>
    </div>
</div>

<footer class="footer" style="position: absolute; bottom: 0; width: 100%; height: 60px; background-color: #f5f5f5;">
    <div class="container">
    </div>
</footer>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var elements = document.getElementsByTagName("INPUT");
        for (var i = 0; i < elements.length; i++) {
            elements[i].oninvalid = function (e) {
                e.target.setCustomValidity("");
                if (!e.target.validity.valid) {
                    e.target.setCustomValidity("Debe rellenar los campos.");
                }
            };
            elements[i].oninput = function (e) {
                e.target.setCustomValidity("");
            };
        }
    })
</script>
</html>